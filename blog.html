<!DOCTYPE html>
<html lang="es" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitácora Técnica | Fintech.land</title>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Space+Grotesk:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .font-display {
            font-family: 'Space Grotesk', sans-serif;
        }

        .prose h3 {
            font-family: 'Space Grotesk', sans-serif;
            margin-top: 2rem;
            margin-bottom: 1rem;
            font-weight: 700;
            color: #0f172a;
        }

        .prose p {
            margin-bottom: 1.5rem;
            line-height: 1.8;
            color: #475569;
        }

        .prose ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            margin-bottom: 1.5rem;
            color: #475569;
        }

        .prose li {
            margin-bottom: 0.5rem;
        }

        /* Animaciones */
        @keyframes fade-in {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .animate-fade {
            animation: fade-in 0.5s ease-out forwards;
        }
    </style>
</head>

<body class="bg-white text-slate-900 antialiased selection:bg-blue-100 selection:text-blue-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONOS ---
        const Icon = ({ path, size = 20, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} dangerouslySetInnerHTML={{ __html: path }} />
        );

        const icons = {
            arrowLeft: '<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',
            arrowRight: '<path d="M5 12h14M12 5l7 7-7 7"/>',
            linkedin: '<path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/><rect width="4" height="12" x="2" y="9"/><circle cx="4" cy="4" r="2"/>',
            clock: '<circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>',
            calendar: '<rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/>',
            share: '<path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><polyline points="16 6 12 2 8 6"/><line x1="12" x2="12" y1="2" y2="15"/>'
        };

        // --- DATOS DEL BLOG (Artículos Completos Mock) ---
        const BLOG_DATA = [
            {
                id: 1,
                category: "INGENIERÍA DE SOFTWARE",
                title: "Desacoplando el Monolito: Estrategias de Migración Bancaria",
                excerpt: "Cómo aplicamos el patrón 'Strangler Fig' para modernizar un Core Bancario de 20 años sin detener la operación transaccional ni un segundo.",
                date: "12 OCT 2023",
                readTime: "8 min",
                image: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&q=80&w=1000",
                author: {
                    name: "Fredy Valle",
                    role: "CTO & Co-Founder",
                    image: "https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    linkedin: "https://linkedin.com"
                },
                content: `
                    <h3>El Problema del Legacy</h3>
                    <p>La mayoría de las instituciones financieras operan sobre mainframes o sistemas monolíticos desarrollados en COBOL o Java temprano en los años 2000. Estos sistemas son robustos, sí, pero increíblemente rígidos. Cualquier cambio menor implica semanas de pruebas de regresión.</p>
                    <p>En Fintech.land, nos enfrentamos a un reto común: ¿Cómo modernizar sin reescribir todo desde cero (Big Bang) y arriesgar la operación?</p>
                    
                    <h3>El Patrón Strangler Fig</h3>
                    <p>Inspirado en la naturaleza, este patrón consiste en crear una nueva aplicación alrededor de la antigua, reemplazando funcionalidades poco a poco hasta que el sistema antiguo "muere".</p>
                    <ul>
                        <li><strong>Fase 1: Intercepción.</strong> Colocamos un API Gateway frente al monolito. Todas las peticiones pasan por ahí.</li>
                        <li><strong>Fase 2: Microservicio Nuevo.</strong> Desarrollamos una funcionalidad específica (ej. Consulta de Saldo) en una arquitectura moderna (Node.js/Go).</li>
                        <li><strong>Fase 3: Enrutamiento.</strong> El API Gateway desvía el tráfico de esa funcionalidad al nuevo microservicio, dejando el resto al monolito.</li>
                    </ul>
                    <h3>Resultados</h3>
                    <p>Logramos reducir el tiempo de despliegue de funcionalidades nuevas de 3 meses a 2 semanas, manteniendo una disponibilidad del 99.99% durante la migración.</p>
                `
            },
            {
                id: 2,
                category: "CUMPLIMIENTO & REGULACIÓN",
                title: "Open Banking en México: La API Estandarizada CNBV",
                excerpt: "Análisis técnico de los requerimientos de seguridad para las APIs de Finanzas Abiertas. OAuth 2.0, mTLS y gestión de consentimiento.",
                date: "28 SEP 2023",
                readTime: "12 min",
                image: "https://images.unsplash.com/photo-1563986768609-322da13575f3?auto=format&fit=crop&q=80&w=1000",
                author: {
                    name: "Alejandro Maldonado",
                    role: "CEO & Fintech Advisor",
                    image: "https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    linkedin: "https://linkedin.com"
                },
                content: `
                    <h3>El Estándar CNBV</h3>
                    <p>La circular de la Comisión Nacional Bancaria y de Valores establece reglas claras para el intercambio de datos transaccionales y agregados. No es solo exponer un JSON; es garantizar que quien consume la data es quien dice ser.</p>
                    
                    <h3>Seguridad: mTLS y OAuth 2.0</h3>
                    <p>La autenticación mutua (mTLS) es obligatoria. No basta con que el cliente confíe en el servidor; el servidor debe validar criptográficamente el certificado del cliente antes de siquiera procesar el handshake TLS.</p>
                    <p>Sobre esta capa de transporte seguro, implementamos flujos de OAuth 2.0 (Financial-grade API - FAPI) para gestionar los tokens de acceso y los consentimientos granulares del usuario final.</p>
                `
            },
            {
                id: 3,
                category: "INTELIGENCIA ARTIFICIAL",
                title: "LLMs en Atención al Cliente: Más allá del Chatbot",
                excerpt: "Implementando modelos de lenguaje locales para análisis de sentimiento en tiempo real y detección de fraude en llamadas de soporte.",
                date: "15 SEP 2023",
                readTime: "6 min",
                image: "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?auto=format&fit=crop&q=80&w=1000",
                author: {
                    name: "José C. Ibarra",
                    role: "Chief Data Officer",
                    image: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",
                    linkedin: "https://linkedin.com"
                },
                content: `
                    <h3>Latencia vs Privacidad</h3>
                    <p>Usar GPT-4 es fácil, pero enviar datos financieros sensibles a servidores externos es un riesgo de cumplimiento. Nuestra solución: modelos Open Source (Llama 2 / Mistral) fine-tuneados y desplegados on-premise.</p>
                    <h3>Análisis de Sentimiento en Tiempo Real</h3>
                    <p>El sistema transcribe la llamada en vivo y analiza el tono del cliente. Si detecta frustración extrema o palabras clave de "fraude" o "robo", escala el ticket automáticamente a un supervisor humano antes de que la llamada termine.</p>
                `
            }
        ];

        // --- COMPONENTE: TARJETA DE ARTÍCULO (GRID ITEM) ---
        const BlogCard = ({ post, onClick }) => (
            <article
                className="flex flex-col h-full bg-white border border-slate-200 group cursor-pointer hover:shadow-2xl transition-all duration-300 hover:-translate-y-1"
                onClick={() => onClick(post)}
            >
                <div className="h-48 overflow-hidden relative">
                    <div className="absolute inset-0 bg-slate-900/10 group-hover:bg-transparent transition-colors z-10"></div>
                    <img src={post.image} alt={post.title} className="w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-700" />
                    <span className="absolute top-4 left-4 z-20 bg-white/90 backdrop-blur px-3 py-1 text-[10px] font-bold tracking-widest uppercase text-slate-800">
                        {post.category}
                    </span>
                </div>

                <div className="p-8 flex-1 flex flex-col">
                    <div className="flex items-center gap-4 text-xs text-slate-400 font-medium mb-4">
                        <span className="flex items-center gap-1"><Icon path={icons.calendar} size={14} /> {post.date}</span>
                        <span className="flex items-center gap-1"><Icon path={icons.clock} size={14} /> {post.readTime}</span>
                    </div>

                    <h3 className="text-xl font-display font-bold text-slate-900 mb-3 group-hover:text-blue-600 transition-colors leading-tight">
                        {post.title}
                    </h3>
                    <p className="text-sm text-slate-500 leading-relaxed mb-6 flex-1 line-clamp-3">
                        {post.excerpt}
                    </p>

                    <div className="pt-6 border-t border-slate-100 flex items-center justify-between">
                        <div className="flex items-center gap-3">
                            <img src={post.author.image} alt={post.author.name} className="w-8 h-8 rounded-full object-cover grayscale" />
                            <div className="text-xs">
                                <div className="font-bold text-slate-900">{post.author.name}</div>
                                <div className="text-slate-500">{post.author.role}</div>
                            </div>
                        </div>
                        <span className="text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity transform translate-x-[-10px] group-hover:translate-x-0 duration-300">
                            <Icon path={icons.arrowRight} />
                        </span>
                    </div>
                </div>
            </article>
        );

        // --- COMPONENTE: VISTA DE LECTURA (ARTICLE VIEW) ---
        const ArticleView = ({ post, onBack }) => {
            // Simular scroll al top al abrir
            useEffect(() => {
                window.scrollTo(0, 0);
            }, []);

            return (
                <div className="animate-fade min-h-screen bg-white">
                    {/* Progress Bar simulada */}
                    <div className="fixed top-0 left-0 h-1 bg-blue-600 z-50 w-full animate-[width_1s_ease-out]"></div>

                    <div className="max-w-3xl mx-auto px-6 py-12 md:py-20">
                        {/* Navegación Superior */}
                        <button
                            onClick={onBack}
                            className="group flex items-center gap-2 text-sm font-bold text-slate-500 hover:text-blue-600 mb-8 transition-colors"
                        >
                            <span className="bg-slate-100 p-2 rounded-full group-hover:bg-blue-50 transition-colors"><Icon path={icons.arrowLeft} size={16} /></span>
                            Volver a la Bitácora
                        </button>

                        {/* Encabezado del Artículo */}
                        <header className="mb-12 text-center">
                            <span className="inline-block px-3 py-1 mb-6 text-xs font-bold tracking-widest text-blue-600 uppercase bg-blue-50 rounded-full">
                                {post.category}
                            </span>
                            <h1 className="text-4xl md:text-5xl font-display font-bold text-slate-900 mb-6 leading-tight">
                                {post.title}
                            </h1>
                            <p className="text-xl text-slate-500 font-light leading-relaxed mb-8">
                                {post.excerpt}
                            </p>

                            {/* Meta Data del Autor */}
                            <div className="flex items-center justify-center gap-8 border-y border-slate-100 py-6">
                                <div className="flex items-center gap-3 text-left">
                                    <img src={post.author.image} alt={post.author.name} className="w-12 h-12 rounded-full object-cover" />
                                    <div>
                                        <div className="text-sm font-bold text-slate-900">{post.author.name}</div>
                                        <a href={post.author.linkedin} target="_blank" className="text-xs text-blue-600 hover:underline flex items-center gap-1">
                                            Conectar <Icon path={icons.linkedin} size={10} />
                                        </a>
                                    </div>
                                </div>
                                <div className="h-8 w-px bg-slate-200"></div>
                                <div className="text-left text-xs text-slate-500 font-medium">
                                    <div className="flex items-center gap-2 mb-1"><Icon path={icons.calendar} size={14} /> {post.date}</div>
                                    <div className="flex items-center gap-2"><Icon path={icons.clock} size={14} /> {post.readTime} lectura</div>
                                </div>
                            </div>
                        </header>

                        {/* Imagen Principal */}
                        <figure className="mb-12">
                            <img src={post.image} alt="Cover" className="w-full h-[400px] object-cover rounded-sm shadow-xl" />
                            <figcaption className="text-center text-xs text-slate-400 mt-3 italic">Arquitectura y Diagramas referenciales de Fintech.land</figcaption>
                        </figure>

                        {/* Contenido HTML Inyectado */}
                        <div
                            className="prose prose-lg max-w-none text-slate-600"
                            dangerouslySetInnerHTML={{ __html: post.content }}
                        />

                        {/* Footer del Artículo */}
                        <div className="mt-16 pt-8 border-t border-slate-200">
                            <h4 className="font-display font-bold text-slate-900 mb-4">¿Te interesa implementar esto?</h4>
                            <div className="bg-slate-50 p-6 rounded border border-slate-100 flex flex-col md:flex-row items-center justify-between gap-4">
                                <p className="text-sm text-slate-600">
                                    Nuestro equipo de ingeniería puede auditar tu arquitectura actual sin costo inicial.
                                </p>
                                <button className="whitespace-nowrap px-6 py-3 bg-slate-900 text-white font-bold text-sm hover:bg-blue-600 transition-colors">
                                    Agendar Sesión Técnica
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // --- COMPONENTE PRINCIPAL (APP) ---
        const BlogApp = () => {
            const [view, setView] = useState('list'); // 'list' | 'article'
            const [activePost, setActivePost] = useState(null);

            // Manejador de navegación
            const handleReadPost = (post) => {
                setActivePost(post);
                setView('article');
            };

            const handleBack = () => {
                setView('list');
                setTimeout(() => setActivePost(null), 300); // Limpieza
            };

            return (
                <div className="min-h-screen bg-white flex flex-col">

                    {/* NAVBAR SIMPLIFICADO */}
                    <nav className="sticky top-0 z-40 bg-white/90 backdrop-blur-md border-b border-slate-100 h-16">
                        <div className="max-w-7xl mx-auto px-6 h-full flex items-center justify-between">
                            <a href="#" onClick={(e) => { e.preventDefault(); handleBack(); }} className="text-xl font-display font-bold tracking-tighter">
                                fintech<span className="text-blue-600">.land</span> <span className="text-slate-300 font-light mx-2">|</span> <span className="text-sm text-slate-500 font-medium uppercase tracking-widest">Bitácora</span>
                            </a>
                            <div className="hidden md:flex gap-6 text-xs font-bold text-slate-500 uppercase tracking-widest">
                                <a href="#" className="hover:text-blue-600">Ingeniería</a>
                                <a href="#" className="hover:text-blue-600">Regulación</a>
                                <a href="#" className="hover:text-blue-600">IA</a>
                            </div>
                        </div>
                    </nav>

                    {/* CONTENIDO DINÁMICO (SPA SWITCH) */}
                    <main className="flex-1">
                        {view === 'list' ? (
                            <div className="animate-fade">
                                {/* Hero del Blog */}
                                <div className="bg-slate-50 py-20 border-b border-slate-200">
                                    <div className="max-w-7xl mx-auto px-6 text-center max-w-3xl">
                                        <h1 className="text-4xl md:text-5xl font-display font-bold text-slate-900 mb-6">
                                            Ingeniería sin Filtros.
                                        </h1>
                                        <p className="text-xl text-slate-500 font-light leading-relaxed">
                                            Documentación técnica sobre nuestros desafíos construyendo la infraestructura financiera de Latinoamérica. Escrito por devs, para devs (y CTOs).
                                        </p>
                                    </div>
                                </div>

                                {/* Grid de Posts */}
                                <div className="max-w-7xl mx-auto px-6 py-20">
                                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                                        {BLOG_DATA.map(post => (
                                            <BlogCard key={post.id} post={post} onClick={handleReadPost} />
                                        ))}
                                    </div>
                                </div>
                            </div>
                        ) : (
                            <ArticleView post={activePost} onBack={handleBack} />
                        )}
                    </main>

                    {/* FOOTER */}
                    <footer className="bg-white border-t border-slate-100 py-12 text-center text-xs text-slate-400 uppercase tracking-widest">
                        <p>© 2025 Fintech.land Engineering Team.</p>
                        <div className="mt-4 flex justify-center gap-4">
                            <a href="#" className="hover:text-blue-600">RSS Feed</a>
                            <a href="#" className="hover:text-blue-600">LinkedIn</a>
                            <a href="#" className="hover:text-blue-600">Github</a>
                        </div>
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<BlogApp />);
    </script>
</body>

</html>